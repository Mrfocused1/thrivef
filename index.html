<!DOCTYPE html>
<html lang="en" class="antialiased scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THRIVE FAIR | The Connection Engine</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Oswald:wght@300;400;500&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/MotionPathPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Observer.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        base: '#fafaf9', // Warm White
                        graphite: '#1c1917', // Stone 900
                        subtle: '#a8a29e', // Stone 400
                        accent: '#059669', // Emerald 600
                        accentLight: '#34d399', // Emerald 400
                        surface: '#ffffff',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Oswald', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #e7e5e4 1px, transparent 1px), linear-gradient(to bottom, #e7e5e4 1px, transparent 1px)",
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Aesthetic */
        body {
            background-color: #fafaf9;
            color: #1c1917;
            overflow-x: hidden;
        }

        /* Texture Overlay */
        .texture-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.4;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
        }

        .grid-bg {
            background-size: 40px 40px;
            mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
        }

        /* Typography Utilities */
        .text-reveal-mask {
            overflow: hidden;
            display: block;
        }
        .text-reveal-line {
            transform: translateY(100%);
            display: block;
        }

        /* Custom Cursors/Interactions */
        .cursor-halo {
            width: 20px;
            height: 20px;
            border: 1px solid #059669;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background-color 0.3s;
            mix-blend-mode: multiply;
        }

        /* Hide scrollbar for horizontal sections */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Utility for clip-path animations */
        .clip-hidden {
            clip-path: inset(0 100% 0 0);
        }
        .clip-visible {
            clip-path: inset(0 0 0 0);
        }

        /* SVG Line drawing utilities */
        .draw-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }

        /* Horizontal scroll section - touch optimization */
        #mod-05 {
            touch-action: pan-y; /* Only allow vertical touch gestures */
        }

        .aisle-wrapper {
            touch-action: none; /* Disable direct touch manipulation on wrapper */
            will-change: transform; /* GPU acceleration hint */
        }

        /* Animated Hero Sections */
        .hero-section {
            height: 100%;
            width: 100%;
            top: 0;
            position: fixed;
            visibility: hidden;
        }

        .hero-section .outer,
        .hero-section .inner {
            width: 100%;
            height: 100%;
            overflow-y: hidden;
        }

        .hero-section .bg {
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            height: 100%;
            width: 100%;
            top: 0;
            background-size: cover;
            background-position: center;
        }

        .hero-section .bg::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.1) 100%
            );
        }

        .hero-section h2 {
            font-size: clamp(2rem, 8vw, 8rem);
            font-weight: 600;
            line-height: 1.2;
            text-align: center;
            width: 90vw;
            max-width: 1200px;
            color: white;
            z-index: 2;
            position: relative;
        }

        .hero-section .clip-text {
            overflow: hidden;
        }

        .first .bg {
            background-image: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.1) 100%
            ), url("https://assets.codepen.io/16327/site-landscape-1.jpg");
        }

        .second .bg {
            background-image: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.1) 100%
            ), url("https://assets.codepen.io/16327/site-landscape-2.jpg");
        }

        .third .bg {
            background-image: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.1) 100%
            ), url("https://assets.codepen.io/16327/site-landscape-3.jpg");
        }

        .fourth .bg {
            background-image: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.1) 100%
            ), url("https://assets.codepen.io/16327/site-landscape-4.jpg");
        }

        .fifth .bg {
            background-image: linear-gradient(
                180deg,
                rgba(0, 0, 0, 0.6) 0%,
                rgba(0, 0, 0, 0.1) 100%
            ), url("https://assets.codepen.io/16327/site-landscape-5.jpg");
            background-position: 50% 45%;
        }

        .hero-section h2 * {
            will-change: transform;
        }

        /* During hero intro, hide main content below */
        body.hero-mode {
            overflow: hidden;
        }

        body.hero-mode #main-content {
            opacity: 0;
            pointer-events: none;
        }

        /* When hero is complete, transition to scrollable layout */
        body.hero-complete .hero-section {
            position: relative !important;
            visibility: visible !important;
        }

        body.hero-complete {
            overflow: auto;
        }

        body.hero-complete #main-content {
            opacity: 1 !important;
            pointer-events: auto !important;
        }
    </style>
</head>
<body class="relative hero-mode">

    <!-- Texture & Cursor -->
    <div class="texture-overlay"></div>
    <div class="fixed inset-0 grid-bg bg-grid-pattern opacity-30 pointer-events-none z-0"></div>
    <div id="cursor" class="cursor-halo hidden md:block"></div>

    <!-- PERSISTENT UI: HUD -->
    <nav class="fixed top-0 left-0 w-full z-50 px-6 py-4 flex justify-between items-center pointer-events-none mix-blend-darken">
        <div class="pointer-events-auto flex items-center gap-2">
            <div class="w-8 h-8 bg-graphite text-white flex items-center justify-center font-bold font-display tracking-tighter">
                TF
            </div>
            <span class="font-mono text-xs uppercase tracking-widest hidden sm:block">THRIVE FAIR 2026</span>
        </div>

        <!-- Connection HUD -->
        <div class="flex items-center gap-4 bg-white/80 backdrop-blur-md border border-subtle/30 px-4 py-2 rounded-full shadow-sm">
            <div class="flex flex-col items-end">
                <span id="hud-chapter" class="font-mono text-[10px] text-subtle uppercase">01 // BOOT</span>
                <div class="w-24 h-1 bg-gray-200 mt-1 rounded-full overflow-hidden">
                    <div id="hud-strength" class="h-full bg-accent w-0 transition-all duration-300"></div>
                </div>
            </div>
            <div id="hud-icon" class="text-accent w-5 h-5 flex items-center justify-center">
                <!-- Icon injected by JS -->
                <i data-lucide="circle-dot"></i>
            </div>
        </div>

        <div class="pointer-events-auto hidden md:flex gap-4 font-mono text-xs">
            <a href="#register" class="hover:text-accent transition-colors">LOGIN</a>
            <a href="#register" class="hover:text-accent transition-colors">SUPPORT</a>
        </div>
    </nav>

    <!-- RIGHT FLOATING DRAWER TRIGGER -->
    <button class="fixed bottom-8 right-8 z-40 w-12 h-12 bg-white border border-subtle/30 shadow-lg rounded-full flex items-center justify-center hover:scale-105 transition-transform group pointer-events-auto">
        <i data-lucide="help-circle" class="w-5 h-5 text-graphite group-hover:text-accent transition-colors"></i>
    </button>

    <!-- MAIN SCROLL CONTAINER -->
    <main id="smooth-wrapper">
        <div id="smooth-content">

            <!-- MODULE 01: ANIMATED HERO SECTIONS -->
            <section class="first hero-section">
                <div class="outer">
                    <div class="inner">
                        <div class="bg one">
                            <h2 class="section-heading">Thrive Fair 2026</h2>
                        </div>
                    </div>
                </div>
            </section>
            <section class="second hero-section">
                <div class="outer">
                    <div class="inner">
                        <div class="bg">
                            <h2 class="section-heading">Work Experience</h2>
                        </div>
                    </div>
                </div>
            </section>
            <section class="third hero-section">
                <div class="outer">
                    <div class="inner">
                        <div class="bg">
                            <h2 class="section-heading">Career Opportunities</h2>
                        </div>
                    </div>
                </div>
            </section>
            <section class="fourth hero-section">
                <div class="outer">
                    <div class="inner">
                        <div class="bg">
                            <h2 class="section-heading">Corporate Learning</h2>
                        </div>
                    </div>
                </div>
            </section>
            <section class="fifth hero-section">
                <div class="outer">
                    <div class="inner">
                        <div class="bg">
                            <h2 class="section-heading">The Connection Engine</h2>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MAIN WEBSITE CONTENT -->
            <div id="main-content">

            <!-- MODULE 02: SNAPSHOT -->
            <section id="mod-02" class="py-24 px-6 border-t border-gray-200" data-chapter="SYSTEM STATUS" data-icon="activity">
                <div class="max-w-7xl mx-auto">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                        <div class="stat-item border-l border-accent/30 pl-6">
                            <h3 class="font-mono text-xs text-subtle uppercase mb-2">Active Attendees</h3>
                            <div class="font-display text-5xl md:text-6xl counter" data-target="2500">0</div>
                        </div>
                        <div class="stat-item border-l border-accent/30 pl-6">
                            <h3 class="font-mono text-xs text-subtle uppercase mb-2">Partner Vendors</h3>
                            <div class="font-display text-5xl md:text-6xl counter" data-target="140">0</div>
                        </div>
                        <div class="stat-item border-l border-accent/30 pl-6">
                            <h3 class="font-mono text-xs text-subtle uppercase mb-2">Live Workshops</h3>
                            <div class="font-display text-5xl md:text-6xl counter" data-target="45">0</div>
                        </div>
                        <div class="stat-item border-l border-accent/30 pl-6">
                            <h3 class="font-mono text-xs text-subtle uppercase mb-2">Career Matches</h3>
                            <div class="font-display text-5xl md:text-6xl counter" data-target="8500">0</div>
                        </div>
                    </div>
                </div>
                <!-- Sticky CTA Insert -->
                <div class="sticky top-[85vh] z-30 flex justify-end px-6 pointer-events-none">
                    <a href="#register" class="pointer-events-auto bg-accent text-white px-6 py-3 rounded shadow-lg font-mono text-xs uppercase hover:bg-graphite transition-colors transform translate-y-20 opacity-0 sticky-cta">
                        Start Connection
                    </a>
                </div>
            </section>

            <!-- MODULE 03: ROLE SELECTOR -->
            <section id="mod-03" class="py-24 bg-white" data-chapter="IDENTIFY ROLE" data-icon="user">
                <div class="max-w-7xl mx-auto px-6">
                    <div class="flex flex-col md:flex-row gap-12 items-center">
                        <div class="w-full md:w-1/2">
                            <h2 class="font-display text-4xl mb-8">Identify Protocol</h2>
                            <div class="flex flex-wrap gap-3" id="role-container">
                                <button class="role-btn active px-6 py-3 border border-graphite rounded-full font-medium hover:bg-gray-50 transition-all text-left w-full md:w-auto" data-role="student">Student / Grad</button>
                                <button class="role-btn px-6 py-3 border border-gray-200 text-subtle rounded-full font-medium hover:border-graphite hover:text-graphite transition-all text-left w-full md:w-auto" data-role="switcher">Career Switcher</button>
                                <button class="role-btn px-6 py-3 border border-gray-200 text-subtle rounded-full font-medium hover:border-graphite hover:text-graphite transition-all text-left w-full md:w-auto" data-role="employer">Employer</button>
                                <button class="role-btn px-6 py-3 border border-gray-200 text-subtle rounded-full font-medium hover:border-graphite hover:text-graphite transition-all text-left w-full md:w-auto" data-role="partner">Learning Partner</button>
                            </div>
                        </div>
                        <div class="w-full md:w-1/2">
                            <div class="bg-base border border-gray-200 p-8 rounded-xl relative overflow-hidden h-64 flex flex-col justify-center role-preview-card">
                                <div class="absolute top-0 right-0 p-4 opacity-20">
                                    <i data-lucide="fingerprint" class="w-24 h-24"></i>
                                </div>
                                <h3 class="font-mono text-accent text-sm mb-2 role-label">ACCESS GRANTED: STUDENT</h3>
                                <p class="font-sans text-xl role-desc">Unlock apprenticeship routes, graduate schemes, and CV workshops tailored to entry-level talent.</p>
                                <div class="mt-6 h-1 w-full bg-gray-200 rounded overflow-hidden">
                                    <div class="h-full bg-graphite w-1/4 animate-pulse"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MODULE 04: PINNED MATCH GRAPH -->
            <section id="mod-04" class="h-screen flex items-center justify-center bg-graphite text-white relative overflow-hidden" data-chapter="MATCH LOGIC" data-icon="git-merge">
                <div class="max-w-6xl w-full px-6 relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div class="order-2 md:order-1">
                        <svg id="match-svg" viewBox="0 0 500 400" class="w-full h-auto opacity-0">
                            <!-- Nodes -->
                            <circle cx="50" cy="200" r="10" fill="#fafaf9" />
                            <text x="50" y="240" text-anchor="middle" fill="#a8a29e" font-size="12" font-family="monospace">YOU</text>

                            <circle cx="250" cy="100" r="5" fill="#34d399" opacity="0.5" />
                            <circle cx="250" cy="300" r="5" fill="#34d399" opacity="0.5" />
                            <circle cx="450" cy="200" r="15" fill="#10b981" />
                            <text x="450" y="240" text-anchor="middle" fill="#10b981" font-size="12" font-family="monospace">OPPORTUNITY</text>

                            <!-- Paths -->
                            <path id="match-path-bg" d="M 50 200 Q 150 200 250 100 T 450 200" fill="none" stroke="#525252" stroke-width="1" />
                            <path id="match-path-main" d="M 50 200 Q 150 200 250 100 T 450 200" fill="none" stroke="#10b981" stroke-width="2" class="draw-path" />

                            <!-- Pulse Dot -->
                            <circle id="pulse-dot" cx="0" cy="0" r="6" fill="#fff" shadow="0 0 10px white" />
                        </svg>
                    </div>
                    <div class="order-1 md:order-2">
                        <h2 class="font-display text-5xl mb-6 match-text opacity-0 transform translate-y-4">Algorithmic <br><span class="text-accent">Alignment</span></h2>
                        <p class="font-sans text-gray-400 text-lg match-text opacity-0 transform translate-y-4">
                            Our engine doesn't just list jobs. It creates a routing path between your skills and vendor needs using real-time availability data.
                        </p>
                    </div>
                </div>
            </section>

            <!-- MODULE 05: INDUSTRY AISLES (HORIZONTAL) -->
            <section id="mod-05" class="py-24 overflow-hidden bg-base" data-chapter="SECTORS" data-icon="layout-grid">
                <div class="px-6 mb-12">
                    <h2 class="font-display text-4xl">Browse Sectors</h2>
                    <p class="font-mono text-xs text-subtle">SCROLL TO NAVIGATE AISLES</p>
                </div>

                <!-- Horizontal Container -->
                <div class="aisle-wrapper flex gap-6 pl-6">
                    <!-- Aisle Cards -->
                    <div class="aisle-card w-[80vw] md:w-[25vw] h-[60vh] bg-white border border-gray-200 p-8 flex flex-col justify-between shrink-0 hover:border-accent transition-colors group">
                        <div class="font-mono text-accent">01</div>
                        <div>
                            <h3 class="font-display text-4xl mb-2 group-hover:translate-x-2 transition-transform">FinTech</h3>
                            <p class="text-sm text-subtle">Banking, Crypto, Insurance</p>
                        </div>
                        <div class="w-full h-px bg-gray-200 group-hover:bg-accent transition-colors"></div>
                    </div>

                    <div class="aisle-card w-[80vw] md:w-[25vw] h-[60vh] bg-white border border-gray-200 p-8 flex flex-col justify-between shrink-0 hover:border-accent transition-colors group">
                        <div class="font-mono text-accent">02</div>
                        <div>
                            <h3 class="font-display text-4xl mb-2 group-hover:translate-x-2 transition-transform">Creative</h3>
                            <p class="text-sm text-subtle">Design, Media, UI/UX</p>
                        </div>
                        <div class="w-full h-px bg-gray-200 group-hover:bg-accent transition-colors"></div>
                    </div>

                    <div class="aisle-card w-[80vw] md:w-[25vw] h-[60vh] bg-white border border-gray-200 p-8 flex flex-col justify-between shrink-0 hover:border-accent transition-colors group">
                        <div class="font-mono text-accent">03</div>
                        <div>
                            <h3 class="font-display text-4xl mb-2 group-hover:translate-x-2 transition-transform">Health</h3>
                            <p class="text-sm text-subtle">NHS, BioTech, Care</p>
                        </div>
                        <div class="w-full h-px bg-gray-200 group-hover:bg-accent transition-colors"></div>
                    </div>

                    <div class="aisle-card w-[80vw] md:w-[25vw] h-[60vh] bg-white border border-gray-200 p-8 flex flex-col justify-between shrink-0 hover:border-accent transition-colors group">
                        <div class="font-mono text-accent">04</div>
                        <div>
                            <h3 class="font-display text-4xl mb-2 group-hover:translate-x-2 transition-transform">Engineering</h3>
                            <p class="text-sm text-subtle">Civil, Software, Mechanical</p>
                        </div>
                        <div class="w-full h-px bg-gray-200 group-hover:bg-accent transition-colors"></div>
                    </div>
                     <div class="aisle-card w-[80vw] md:w-[25vw] h-[60vh] bg-graphite text-white p-8 flex flex-col justify-center items-center shrink-0">
                        <h3 class="font-display text-3xl mb-4 text-center">See All 40+ Aisles</h3>
                         <a href="#register" class="px-6 py-2 border border-white hover:bg-white hover:text-graphite transition-colors font-mono text-sm">Download Map</a>
                    </div>
                </div>
            </section>

            <!-- MODULE 06: VENDOR BOOTHS -->
            <section id="mod-06" class="py-24 px-6 bg-white border-y border-gray-200" data-chapter="DIRECTORY" data-icon="users">
                <div class="max-w-7xl mx-auto">
                    <div class="flex justify-between items-end mb-12">
                        <h2 class="font-display text-4xl">Vendor Directory</h2>
                        <div class="hidden md:block p-4 bg-base border border-gray-200 rounded text-xs font-mono w-64">
                            <div class="flex justify-between mb-2"><span class="text-subtle">ROUTE STATUS</span> <span class="text-accent">ACTIVE</span></div>
                            <div class="h-1 bg-gray-200 w-full rounded"><div class="h-full bg-accent w-1/3"></div></div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="vendor-grid">
                        <!-- Vendor Cards -->
                        <div class="vendor-card group relative p-6 border border-gray-200 hover:border-accent transition-all hover:shadow-lg bg-base opacity-0 translate-y-8">
                            <div class="h-12 w-12 bg-gray-200 mb-4 rounded-full group-hover:bg-accent transition-colors"></div>
                            <h4 class="font-bold text-lg">TechCorp Global</h4>
                            <p class="text-sm text-subtle mb-4">Hiring: Jr Developers, UX Interns</p>
                            <button class="text-xs font-mono uppercase border-b border-graphite pb-1 hover:text-accent hover:border-accent transition-colors">Add to Route +</button>
                        </div>
                        <div class="vendor-card group relative p-6 border border-gray-200 hover:border-accent transition-all hover:shadow-lg bg-base opacity-0 translate-y-8">
                            <div class="h-12 w-12 bg-gray-200 mb-4 rounded-full group-hover:bg-accent transition-colors"></div>
                            <h4 class="font-bold text-lg">Future Finance</h4>
                            <p class="text-sm text-subtle mb-4">Hiring: Grad Analysts</p>
                            <button class="text-xs font-mono uppercase border-b border-graphite pb-1 hover:text-accent hover:border-accent transition-colors">Add to Route +</button>
                        </div>
                        <div class="vendor-card group relative p-6 border border-gray-200 hover:border-accent transition-all hover:shadow-lg bg-base opacity-0 translate-y-8">
                            <div class="h-12 w-12 bg-gray-200 mb-4 rounded-full group-hover:bg-accent transition-colors"></div>
                            <h4 class="font-bold text-lg">Green Energy UK</h4>
                            <p class="text-sm text-subtle mb-4">Hiring: Project Managers</p>
                            <button class="text-xs font-mono uppercase border-b border-graphite pb-1 hover:text-accent hover:border-accent transition-colors">Add to Route +</button>
                        </div>
                         <div class="vendor-card group relative p-6 border border-gray-200 hover:border-accent transition-all hover:shadow-lg bg-base opacity-0 translate-y-8">
                            <div class="h-12 w-12 bg-gray-200 mb-4 rounded-full group-hover:bg-accent transition-colors"></div>
                            <h4 class="font-bold text-lg">Civil Service</h4>
                            <p class="text-sm text-subtle mb-4">Hiring: Fast Stream</p>
                            <button class="text-xs font-mono uppercase border-b border-graphite pb-1 hover:text-accent hover:border-accent transition-colors">Add to Route +</button>
                        </div>
                         <div class="vendor-card group relative p-6 border border-gray-200 hover:border-accent transition-all hover:shadow-lg bg-base opacity-0 translate-y-8">
                            <div class="h-12 w-12 bg-gray-200 mb-4 rounded-full group-hover:bg-accent transition-colors"></div>
                            <h4 class="font-bold text-lg">Media House</h4>
                            <p class="text-sm text-subtle mb-4">Hiring: Production Runners</p>
                            <button class="text-xs font-mono uppercase border-b border-graphite pb-1 hover:text-accent hover:border-accent transition-colors">Add to Route +</button>
                        </div>
                         <div class="vendor-card group relative p-6 border border-gray-200 hover:border-accent transition-all hover:shadow-lg bg-base opacity-0 translate-y-8">
                            <div class="h-12 w-12 bg-gray-200 mb-4 rounded-full group-hover:bg-accent transition-colors"></div>
                            <h4 class="font-bold text-lg">Health Trust</h4>
                            <p class="text-sm text-subtle mb-4">Hiring: Apprentices</p>
                            <button class="text-xs font-mono uppercase border-b border-graphite pb-1 hover:text-accent hover:border-accent transition-colors">Add to Route +</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MODULE 07: HOW IT WORKS (INTERFACE) -->
            <section id="mod-07" class="py-24 bg-graphite text-white" data-chapter="PROTOCOL" data-icon="terminal">
                 <div class="max-w-4xl mx-auto px-6">
                    <h2 class="font-display text-4xl mb-16 text-center">Initialization Protocol</h2>

                    <div class="space-y-4">
                        <div class="protocol-step bg-white/5 border border-white/10 p-6 rounded flex items-center gap-6 hover:bg-white/10 transition-colors cursor-default">
                            <div class="font-mono text-2xl text-accent">01</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg">Create Profile</h3>
                                <p class="text-sm text-gray-400">Upload CV and define career goals.</p>
                            </div>
                            <i data-lucide="file-text" class="text-gray-500"></i>
                        </div>
                        <div class="protocol-step bg-white/5 border border-white/10 p-6 rounded flex items-center gap-6 hover:bg-white/10 transition-colors cursor-default">
                            <div class="font-mono text-2xl text-accent">02</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg">Build Schedule</h3>
                                <p class="text-sm text-gray-400">Select workshops and book vendor slots.</p>
                            </div>
                            <i data-lucide="calendar" class="text-gray-500"></i>
                        </div>
                        <div class="protocol-step bg-white/5 border border-white/10 p-6 rounded flex items-center gap-6 hover:bg-white/10 transition-colors cursor-default">
                            <div class="font-mono text-2xl text-accent">03</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg">Attend & Connect</h3>
                                <p class="text-sm text-gray-400">Scan QR codes to share data instantly.</p>
                            </div>
                            <i data-lucide="qr-code" class="text-gray-500"></i>
                        </div>
                    </div>
                 </div>
            </section>

            <!-- MODULE 08: PINNED SIGN UP WIZARD -->
            <section id="mod-08" class="h-screen flex items-center justify-center bg-base relative" data-chapter="WIZARD" data-icon="cpu">
                <div class="absolute left-4 sm:left-10 top-1/2 -translate-y-1/2 h-2/3 w-1 bg-gray-200 hidden sm:block">
                    <div id="wizard-progress" class="w-full h-20 bg-accent absolute top-0 left-0 origin-top scale-y-0"></div>
                </div>

                <div class="max-w-xl w-full px-6 relative">
                    <div class="bg-white shadow-2xl border border-gray-100 rounded-xl overflow-hidden wizard-card">
                        <div class="bg-graphite text-white px-6 py-4 flex justify-between items-center">
                            <span class="font-mono text-xs uppercase">Configuration.exe</span>
                            <div class="flex gap-2">
                                <div class="w-2 h-2 rounded-full bg-red-500"></div>
                                <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
                                <div class="w-2 h-2 rounded-full bg-green-500"></div>
                            </div>
                        </div>
                        <div class="p-8">
                            <div class="wizard-step absolute inset-0 p-8 mt-12 bg-white transition-opacity duration-500 opacity-100 relative z-10">
                                <label class="block text-xs font-mono uppercase text-subtle mb-2">Primary Email</label>
                                <div class="h-10 bg-gray-100 rounded w-full mb-4 animate-pulse"></div>
                                <label class="block text-xs font-mono uppercase text-subtle mb-2">Password</label>
                                <div class="h-10 bg-gray-100 rounded w-full animate-pulse"></div>
                            </div>
                             <!-- Decorative stacking effect for motion -->
                             <div class="wizard-overlay absolute inset-0 bg-accent opacity-0 pointer-events-none z-20 flex items-center justify-center text-white font-bold text-2xl">
                                 PROFILE CONFIGURED
                             </div>
                        </div>
                        <div class="px-8 pb-8 flex justify-between">
                            <button class="text-sm text-subtle font-mono hover:text-graphite">CANCEL</button>
                            <button class="bg-graphite text-white px-4 py-2 rounded text-sm font-mono hover:bg-accent transition-colors">NEXT STEP ></button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MODULE 09: AGENDA BUILDER -->
            <section id="mod-09" class="py-24 px-6 bg-white" data-chapter="DAY FLOW" data-icon="clock">
                <div class="max-w-3xl mx-auto">
                    <h2 class="font-display text-4xl mb-8 text-center">Structure Your Day</h2>
                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                        <div class="flex p-4 border-b border-gray-100 items-center hover:bg-base transition-colors group">
                            <div class="w-20 font-mono text-sm text-subtle">09:00</div>
                            <div class="flex-1 font-medium">Doors Open & Registration</div>
                            <button class="w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-300 group-hover:border-accent group-hover:text-accent transition-all">
                                <i data-lucide="plus" class="w-4 h-4"></i>
                            </button>
                        </div>
                        <div class="flex p-4 border-b border-gray-100 items-center hover:bg-base transition-colors group">
                            <div class="w-20 font-mono text-sm text-subtle">10:00</div>
                            <div class="flex-1 font-medium">Keynote: The Future of Work</div>
                            <button class="w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-300 group-hover:border-accent group-hover:text-accent transition-all">
                                <i data-lucide="plus" class="w-4 h-4"></i>
                            </button>
                        </div>
                        <div class="flex p-4 border-b border-gray-100 items-center hover:bg-base transition-colors group">
                            <div class="w-20 font-mono text-sm text-subtle">11:30</div>
                            <div class="flex-1 font-medium">Networking: Speed Mentoring</div>
                            <button class="w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-300 group-hover:border-accent group-hover:text-accent transition-all">
                                <i data-lucide="plus" class="w-4 h-4"></i>
                            </button>
                        </div>
                         <div class="flex p-4 border-b border-gray-100 items-center hover:bg-base transition-colors group">
                            <div class="w-20 font-mono text-sm text-subtle">13:00</div>
                            <div class="flex-1 font-medium">Vendor Booth Visits (Allocated)</div>
                            <button class="w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-300 group-hover:border-accent group-hover:text-accent transition-all">
                                <i data-lucide="plus" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MODULE 10: BENEFITS (TILES) -->
            <section id="mod-10" class="py-24 px-6 bg-base" data-chapter="OUTCOMES" data-icon="check-circle">
                <div class="max-w-7xl mx-auto">
                    <h2 class="font-display text-4xl mb-12">System Outputs</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="benefits-grid">
                        <div class="bg-white p-8 border-t-4 border-accent shadow-sm benefit-card opacity-0">
                            <i data-lucide="briefcase" class="w-8 h-8 text-accent mb-4"></i>
                            <h3 class="font-bold text-lg mb-2">Direct Hiring</h3>
                            <p class="text-sm text-subtle">Fast-track interviews scheduled on the day.</p>
                        </div>
                        <div class="bg-white p-8 border-t-4 border-graphite shadow-sm benefit-card opacity-0">
                            <i data-lucide="award" class="w-8 h-8 text-graphite mb-4"></i>
                            <h3 class="font-bold text-lg mb-2">CPD Certificates</h3>
                            <p class="text-sm text-subtle">Accredited hours for workshop attendance.</p>
                        </div>
                        <div class="bg-white p-8 border-t-4 border-accent shadow-sm benefit-card opacity-0">
                            <i data-lucide="users" class="w-8 h-8 text-accent mb-4"></i>
                            <h3 class="font-bold text-lg mb-2">Mentorship</h3>
                            <p class="text-sm text-subtle">1-on-1 sessions with industry leaders.</p>
                        </div>
                        <div class="bg-white p-8 border-t-4 border-graphite shadow-sm benefit-card opacity-0">
                            <i data-lucide="smartphone" class="w-8 h-8 text-graphite mb-4"></i>
                            <h3 class="font-bold text-lg mb-2">Digital CV</h3>
                            <p class="text-sm text-subtle">A verified profile sharable via QR code.</p>
                        </div>
                    </div>
                </div>
            </section>

             <!-- MODULE 11: PROGRAM (PINNED) -->
             <section id="mod-11" class="min-h-screen bg-graphite text-white flex flex-col justify-center px-6 relative" data-chapter="PROGRAM" data-icon="mic">
                <div class="max-w-6xl mx-auto w-full">
                    <div class="flex items-baseline justify-between mb-12">
                         <h2 class="font-display text-5xl md:text-7xl">Main Stage</h2>
                         <span class="font-mono text-accent animate-pulse">LIVE FEED SIMULATION</span>
                    </div>

                    <div class="space-y-6 relative">
                        <!-- Moving Spotlight Effect behind cards -->
                        <div id="spotlight" class="absolute left-0 top-0 w-full h-32 bg-accent blur-3xl opacity-20 pointer-events-none transition-transform duration-500"></div>

                        <div class="program-card border-b border-white/20 pb-6 opacity-30 transition-all duration-500 hover:opacity-100 cursor-pointer">
                            <div class="flex flex-col md:flex-row md:items-center justify-between">
                                <div>
                                    <span class="text-accent font-mono text-sm">10:00 AM</span>
                                    <h3 class="text-2xl md:text-3xl font-medium mt-1">Navigating the AI Workplace</h3>
                                    <p class="text-gray-400 text-sm mt-2">Panel Discussion • Hall A</p>
                                </div>
                                <button class="mt-4 md:mt-0 px-4 py-2 border border-white/30 rounded text-xs uppercase hover:bg-white hover:text-graphite transition-colors">Add</button>
                            </div>
                        </div>

                         <div class="program-card border-b border-white/20 pb-6 opacity-30 transition-all duration-500 hover:opacity-100 cursor-pointer">
                            <div class="flex flex-comd:flex-row md:items-center justify-between">
                                <div>
                                    <span class="text-accent font-mono text-sm">12:30 PM</span>
                                    <h3 class="text-2xl md:text-3xl font-medium mt-1">Green Economy Careers</h3>
                                    <p class="text-gray-400 text-sm mt-2">Keynote • Main Stage</p>
                                </div>
                                <button class="mt-4 md:mt-0 px-4 py-2 border border-white/30 rounded text-xs uppercase hover:bg-white hover:text-graphite transition-colors">Add</button>
                            </div>
                        </div>

                         <div class="program-card border-b border-white/20 pb-6 opacity-30 transition-all duration-500 hover:opacity-100 cursor-pointer">
                            <div class="flex flex-col md:flex-row md:items-center justify-between">
                                <div>
                                    <span cls="text-accent font-mono text-sm">02:00 PM</span>
                                    <h3 class="text-2xl md:text-3xl font-medium mt-1">Soft Skills Workshop</h3>
                                    <p class="text-gray-400 text-sm mt-2">Interactive • Lab 1</p>
                                </div>
                                <button class="mt-4 md:mt-0 px-4 py-2 border border-white/30 rounded text-xs uppercase hover:bg-white hover:text-graphite transition-colors">Add</button>
                            </div>
                        </div>
                    </div>
                </div>
             </section>

            <!-- MODULE 12: CONVERSION SPLIT -->
            <section id="mod-12" class="grid grid-cols-1 md:grid-cols-3 relative" data-chapter="EXECUTE" data-icon="send">
                <!-- Column 1: Attend -->
                <div class="bg-base p-12 flex flex-col justify-center border-b md:border-b-0 md:border-r border-gray-200 hover:bg-white transition-colors group relative overflow-hidden" id="register">
                    <div class="absolute inset-0 bg-accent/5 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                    <div class="relative z-10">
                        <span class="font-mono text-xs uppercase text-subtle mb-4 block">For Talent</span>
                        <h2 class="font-display text-4xl mb-6">Attend</h2>
                        <ul class="space-y-2 mb-8 text-sm text-gray-600">
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-accent"></i> Free Entry</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-accent"></i> Access all areas</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-accent"></i> Digital CV Profile</li>
                        </ul>
                        <button class="w-full py-4 bg-graphite text-white font-mono uppercase tracking-widest hover:bg-accent transition-colors">Register Free</button>
                    </div>
                </div>

                <!-- Column 2: Exhibit -->
                <div class="bg-white p-12 flex flex-col justify-center border-b md:border-b-0 md:border-r border-gray-200 hover:bg-base transition-colors group relative overflow-hidden" id="exhibit">
                     <div class="absolute inset-0 bg-graphite/5 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                     <div class="relative z-10">
                        <span class="font-mono text-xs uppercase text-subtle mb-4 block">For Employers</span>
                        <h2 class="font-display text-4xl mb-6">Exhibit</h2>
                        <ul class="space-y-2 mb-8 text-sm text-gray-600">
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-graphite"></i> Custom Booth</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-graphite"></i> Access Talent Data</li>
                            <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-graphite"></i> Interview Suites</li>
                        </ul>
                        <button class="w-full py-4 border border-graphite text-graphite font-mono uppercase tracking-widest hover:bg-graphite hover:text-white transition-colors">Book Stand</button>
                    </div>
                </div>

                <!-- Column 3: Partner -->
                <div class="bg-graphite text-white p-12 flex flex-col justify-center group relative overflow-hidden">
                     <div class="absolute inset-0 bg-white/5 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                     <div class="relative z-10">
                        <span class="font-mono text-xs uppercase text-gray-400 mb-4 block">For Educators</span>
                        <h2 class="font-display text-4xl mb-6">Partner</h2>
                        <p class="text-sm text-gray-400 mb-8 leading-relaxed">Join as an educational partner to provide workshops, accreditation, and learning pathways.</p>
                        <button class="w-full py-4 bg-transparent border border-white text-white font-mono uppercase tracking-widest hover:bg-white hover:text-graphite transition-colors">Enquire</button>
                    </div>
                </div>
            </section>

            </div><!-- End #main-content -->

        </div>
    </main>

    <script>
        // --- INITIALIZATION ---
        document.addEventListener("DOMContentLoaded", (event) => {

            // Register GSAP Plugins
            gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

            // Enable ScrollTrigger normalizeScroll for all devices
            // Ensures consistent scroll behavior across touch, wheel, and pointer inputs
            ScrollTrigger.normalizeScroll({
                allowNestedScroll: true,
                lockAxis: false,
                type: "touch,wheel,pointer" // Normalize across all input types
            });

            // Initialize Icons
            lucide.createIcons();

            // Setup Media Match for Mobile/Desktop logic
            let mm = gsap.matchMedia();

            // --- CUSTOM CURSOR (Desktop only) ---
            mm.add("(min-width: 768px)", () => {
                const cursor = document.getElementById('cursor');

                document.addEventListener('mousemove', (e) => {
                    gsap.to(cursor, {
                        x: e.clientX,
                        y: e.clientY,
                        duration: 0.2,
                        ease: "power2.out"
                    });
                });

                // Add magnetic effect to buttons
                const buttons = document.querySelectorAll('button, a');
                buttons.forEach(btn => {
                    btn.addEventListener('mouseenter', () => {
                        gsap.to(cursor, { scale: 2, borderColor: 'transparent', backgroundColor: 'rgba(5, 150, 105, 0.1)' });
                    });
                    btn.addEventListener('mouseleave', () => {
                        gsap.to(cursor, { scale: 1, borderColor: '#059669', backgroundColor: 'transparent' });
                    });
                });
            });

            // --- HUD LOGIC ---
            // Only track sections within main-content, not hero sections
            const sections = document.querySelectorAll('#main-content section');
            const hudChapter = document.getElementById('hud-chapter');
            const hudStrength = document.getElementById('hud-strength');
            const hudIconContainer = document.getElementById('hud-icon');

            // Setup function to initialize HUD ScrollTriggers
            function setupHudScrollTriggers() {
                sections.forEach((section, index) => {
                    ScrollTrigger.create({
                        trigger: section,
                        start: "top center",
                        end: "bottom center",
                        onEnter: () => updateHud(section, index),
                        onEnterBack: () => updateHud(section, index)
                    });
                });
            }

            function updateHud(section, index) {
                // Update Text
                const chapterName = section.dataset.chapter || "UNKNOWN";
                hudChapter.innerText = `0${index + 1} // ${chapterName}`;

                // Update Progress Bar
                const progress = ((index + 1) / sections.length) * 100;
                hudStrength.style.width = `${progress}%`;

                // Update Icon
                const iconName = section.dataset.icon || "circle";
                hudIconContainer.innerHTML = `<i data-lucide="${iconName}"></i>`;
                lucide.createIcons();

                // Animate Icon
                gsap.fromTo(hudIconContainer, {scale: 0, rotate: -180}, {scale: 1, rotate: 0, duration: 0.5, ease: "back.out(1.7)"});
            }


            // --- MODULE 01: ANIMATED HERO SECTIONS ---
            gsap.registerPlugin(Observer);

            let heroSections = document.querySelectorAll(".hero-section"),
                images = document.querySelectorAll(".hero-section .bg"),
                headings = gsap.utils.toArray(".section-heading"),
                outerWrappers = gsap.utils.toArray(".hero-section .outer"),
                innerWrappers = gsap.utils.toArray(".hero-section .inner"),
                currentIndex = -1,
                wrap = gsap.utils.wrap(0, heroSections.length),
                animating;

            // Split text into characters for animation
            function splitText(element) {
                const text = element.textContent;
                element.textContent = '';
                const chars = text.split('');
                chars.forEach(char => {
                    const span = document.createElement('span');
                    span.textContent = char === ' ' ? '\u00A0' : char;
                    span.style.display = 'inline-block';
                    element.appendChild(span);
                });
                return element.children;
            }

            const splitHeadings = headings.map(heading => splitText(heading));

            gsap.set(outerWrappers, { yPercent: 100 });
            gsap.set(innerWrappers, { yPercent: -100 });

            function gotoSection(index, direction) {
                index = wrap(index);
                animating = true;
                let fromTop = direction === -1,
                    dFactor = fromTop ? -1 : 1,
                    tl = gsap.timeline({
                        defaults: { duration: 1.25, ease: "power1.inOut" },
                        onComplete: () => animating = false
                    });

                if (currentIndex >= 0) {
                    gsap.set(heroSections[currentIndex], { zIndex: 0 });
                    tl.to(images[currentIndex], { yPercent: -15 * dFactor })
                      .set(heroSections[currentIndex], { autoAlpha: 0 });
                }

                gsap.set(heroSections[index], { autoAlpha: 1, zIndex: 1 });
                tl.fromTo([outerWrappers[index], innerWrappers[index]], {
                    yPercent: i => i ? -100 * dFactor : 100 * dFactor
                }, {
                    yPercent: 0
                }, 0)
                .fromTo(images[index], { yPercent: 15 * dFactor }, { yPercent: 0 }, 0)
                .fromTo(splitHeadings[index], {
                    autoAlpha: 0,
                    yPercent: 150 * dFactor
                }, {
                    autoAlpha: 1,
                    yPercent: 0,
                    duration: 1,
                    ease: "power2",
                    stagger: {
                        each: 0.02,
                        from: "random"
                    }
                }, 0.2);

                currentIndex = index;
            }

            // Swipe-to-advance: each swipe triggers animation, then waits
            let observer;
            let heroComplete = false;

            // Start on first section
            gotoSection(0, 1);

            // Enable swipe control immediately
            observer = Observer.create({
                type: "wheel,touch,pointer",
                wheelSpeed: -1,
                onDown: () => {
                    // Swipe up = go to previous section
                    if (!animating && currentIndex > 0) {
                        gotoSection(currentIndex - 1, -1);
                    }
                },
                onUp: () => {
                    // Swipe down = go to next section
                    if (!animating) {
                        if (currentIndex < heroSections.length - 1) {
                            // Still in hero sections, advance to next
                            gotoSection(currentIndex + 1, 1);
                        } else if (!heroComplete) {
                            // Just finished last hero section, transition to scrollable mode
                            heroComplete = true;
                            observer.kill();

                            // Fade out the last hero section
                            gsap.to(heroSections[currentIndex], {
                                autoAlpha: 0,
                                duration: 0.8,
                                onComplete: () => {
                                    // Remove all hero sections from DOM
                                    heroSections.forEach(section => {
                                        section.remove();
                                    });

                                    // Transition to normal mode
                                    document.body.classList.remove('hero-mode');
                                    document.body.classList.add('hero-complete');

                                    // Reveal main content
                                    const mainContent = document.getElementById('main-content');
                                    mainContent.style.opacity = '1';
                                    mainContent.style.pointerEvents = 'auto';

                                    // Scroll to top and refresh
                                    window.scrollTo({ top: 0, behavior: 'instant' });

                                    setTimeout(() => {
                                        ScrollTrigger.refresh(true);
                                        setupHudScrollTriggers();
                                    }, 100);
                                }
                            });
                        }
                    }
                },
                tolerance: 10,
                preventDefault: true
            });

            // --- MODULE 02: COUNTERS & DASHBOARD ---
            const counters = document.querySelectorAll('.counter');

            ScrollTrigger.batch(".stat-item", {
                onEnter: batch => {
                    gsap.from(batch, {opacity: 0, y: 20, stagger: 0.1, duration: 0.5});

                    batch.forEach(item => {
                        let counter = item.querySelector('.counter');
                        let target = +counter.getAttribute('data-target');
                        gsap.to(counter, {
                            innerText: target,
                            duration: 2,
                            snap: { innerText: 1 },
                            ease: "power2.out"
                        });
                    });
                },
                start: "top 80%"
            });

            // Sticky CTA Reveal
            gsap.to(".sticky-cta", {
                scrollTrigger: {
                    trigger: "#mod-02",
                    start: "bottom center",
                    toggleActions: "play none none reverse"
                },
                y: 0,
                opacity: 1,
                duration: 0.5
            });


            // --- MODULE 03: ROLE SELECTOR INTERACTION ---
            const roleBtns = document.querySelectorAll('.role-btn');
            const roleLabel = document.querySelector('.role-label');
            const roleDesc = document.querySelector('.role-desc');

            const roleData = {
                student: { title: "ACCESS GRANTED: STUDENT", desc: "Unlock apprenticeship routes, graduate schemes, and CV workshops." },
                switcher: { title: "ACCESS GRANTED: SWITCHER", desc: "Find transferrable skill matches and mid-level entry points." },
                employer: { title: "ACCESS GRANTED: EMPLOYER", desc: "Access the talent database and set up interview schedules." },
                partner: { title: "ACCESS GRANTED: PARTNER", desc: "Integrate your learning curriculum with our career engine." }
            };

            roleBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // UI Update
                    roleBtns.forEach(b => {
                        b.classList.remove('active', 'border-graphite', 'text-graphite');
                        b.classList.add('border-gray-200', 'text-subtle');
                    });
                    btn.classList.add('active', 'border-graphite', 'text-graphite');
                    btn.classList.remove('border-gray-200', 'text-subtle');

                    // Content Update with Animation
                    const key = btn.dataset.role;
                    const data = roleData[key];

                    const card = document.querySelector('.role-preview-card');
                    gsap.timeline()
                        .to(card, { y: 10, opacity: 0, duration: 0.2 })
                        .call(() => {
                            roleLabel.innerText = data.title;
                            roleDesc.innerText = data.desc;
                        })
                        .to(card, { y: 0, opacity: 1, duration: 0.3 });
                });
            });


            // --- MODULE 04: MATCH GRAPH (PINNED + MOTIONPATH) ---
            // Full animation for ALL devices (mobile + desktop)
            const tlGraph = gsap.timeline({
                scrollTrigger: {
                    trigger: "#mod-04",
                    start: "top top",
                    end: "+=150%",
                    scrub: 1,
                    pin: true,
                    invalidateOnRefresh: true // Recalculate on resize/orientation change
                }
            });

            tlGraph.to("#match-svg", { opacity: 1, duration: 0.5 })
                   .to("#match-path-main", { strokeDashoffset: 0, duration: 2, ease: "none" })
                   .to("#pulse-dot", {
                       motionPath: {
                           path: "#match-path-main",
                           align: "#match-path-main",
                           alignOrigin: [0.5, 0.5]
                       },
                       duration: 2,
                       ease: "none"
                   }, "<") // Sync with line draw
                   .to(".match-text", { opacity: 1, y: 0, stagger: 0.2, duration: 1 }, "-=1");


            // --- MODULE 05: HORIZONTAL AISLES (ALL DEVICES) ---
            const aisleWrapper = document.querySelector(".aisle-wrapper");

            gsap.to(aisleWrapper, {
                x: () => -(aisleWrapper.scrollWidth - window.innerWidth),
                ease: "none",
                scrollTrigger: {
                    trigger: "#mod-05",
                    pin: true,
                    scrub: 1,
                    end: () => "+=" + aisleWrapper.scrollWidth,
                    invalidateOnRefresh: true // Recalculate on resize/orientation change
                }
            });

            // Handle orientation changes on mobile
            window.addEventListener("orientationchange", () => {
                setTimeout(() => ScrollTrigger.refresh(), 100);
            });


            // --- MODULE 06: VENDOR BATCH REVEAL ---
            ScrollTrigger.batch(".vendor-card", {
                start: "top 85%",
                onEnter: batch => gsap.to(batch, {opacity: 1, y: 0, stagger: 0.15, overwrite: true})
            });


            // --- MODULE 07: HOW IT WORKS ---
            gsap.from(".protocol-step", {
                scrollTrigger: { trigger: "#mod-07", start: "top 70%" },
                x: -50,
                opacity: 0,
                duration: 0.8,
                stagger: 0.2
            });


            // --- MODULE 08: SIGNUP WIZARD (PINNED + PROGRESS) ---
            // Full animation for ALL devices (mobile + desktop)
            const tlWizard = gsap.timeline({
                scrollTrigger: {
                    trigger: "#mod-08",
                    start: "center center",
                    end: "+=100%",
                    pin: true,
                    scrub: 0.5,
                    invalidateOnRefresh: true // Recalculate on resize/orientation change
                }
            });

            tlWizard.to("#wizard-progress", { scaleY: 1, ease: "none" })
                    .to(".wizard-overlay", { opacity: 1, duration: 0.5 }, ">-0.2");


            // --- MODULE 10: BENEFITS BATCH ---
            ScrollTrigger.batch(".benefit-card", {
                start: "top 80%",
                onEnter: batch => gsap.to(batch, {opacity: 1, duration: 0.8, stagger: 0.2})
            });

            // --- MODULE 11: PROGRAM SPOTLIGHT ---
            const cards = document.querySelectorAll('.program-card');
            const spotlight = document.getElementById('spotlight');

            cards.forEach((card, index) => {
                card.addEventListener('mouseenter', () => {
                    const topPos = index * 100; // rough approximation
                    gsap.to(spotlight, { top: topPos, duration: 0.5, opacity: 0.4 });
                    // Program card logic
                    cards.forEach(c => c.style.opacity = '0.3');
                    card.style.opacity = '1';
                });
            });

            // Pinning for Program
            mm.add("(min-width: 800px)", () => {
                 ScrollTrigger.create({
                    trigger: "#mod-11",
                    start: "top top",
                    end: "+=50%",
                    pin: true
                });
            });

        });
    </script>
</body>
</html>
